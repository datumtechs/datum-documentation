# 数据安全计算

数字化为我们带来便利的同时，也把我们变成了别人的“矿”，很多垄断性的组织肆无忌惮的利用这种资源获取高额的回报。

同时，随着生产经营活动的不断展开，不同组织都逐渐积累了大量的数据，形成了自己的“数据之湖”。

如何使这些“湖泊”流动起来成为“活水”同时接受监管给计算技术带来了课题与挑战。

近年来隐私计算技术迅速发展，成为满足这种需求的核心技术之一。

未来它将成为数字时代的基础设施，促进数据流通的同时守护数据隐私和安全。



为此，我们的 **Datum** 基于[PSI](#ref_psi)、[MPC](#ref_mpc)（由隐私AI框架[Rosetta](#ref_rosetta)提供）、[HE](#ref_he)等隐私增强技术，提供了一系列面向应用的、开箱即用的隐私计算功能。

具体的，Datum以去中心化的调度和链上经济激励，构建去中心化的链下计算网络，并完备的支持了以下数据计算类型：

* [密文外包计算](#head1)
* [联合查询统计](#head2)
* [联合机器学习](#head3)

用户可以通过清晰简洁的API调用完成相应功能，无需过多了解不同的密码算法实现细节，降低了使用门槛，解决了传统数据共享的风险和担忧，使数据协作和流动更加顺畅。





## <a name="head1"></a> 密文外包计算

通过[全同态](#ref_he)加密算法，可将数据加密后外包给第三方计算节点，在数据全密文状态下进行计算处理，过程中不泄露任何数据信息。



![][delegate_computing]



从上图可以看出，我们使用同态计算很好的解耦了数据方与计算方，从根本上解决了将数据及其操作委托给第三方时的保密问题。



## <a name="head2"></a> 联合查询统计

我们考虑以下**案例**：

销售车辆的企业 A 有一个潜在的客户列表，他想回答这样一个问题：对于新上市的某车型号，*哪些人有能力买？*

一个简单的想法是：用户存的*钱是否够？*

但是显然银行不会把客户的存款数告诉你，但是也许可以提供一种合作的服务：某类人(如中产阶级)的列表。

这样就可以通过计算自己有哪些客户同时也在银行的那个列表中而得到有购买力的用户。

在这个过程中，参与方都没有透露比不必要的信息。

这就是隐私计算中的PSI ([Private set intersection](#ref_psi))。



![][psi_eg]



类似的，现实中很多涉及到隐私的问题可以表示成如下**范式**：


![][priv_op_paradigm]



Datum 对此范式提供了完善的支持。它基于[MPC](#ref_mpc)算法协议，使多方的数据可以在不相互泄露信息的前提下，实现了联合查询、联合匹配、联合统计分析等计算，并通过[Data Oracle][data_oracle]为链上提供数据服务。 



## <a name="head3"></a> 联合机器学习

更复杂的应用可能需要通过数据自动建立模型，以高效的方式应对未知情况。

而根据保证数据安全的方式衍生出了各种各样的技术，如：通过密码学(如[MPC](#ref_mpc))或通过硬件(如[TEE](#ref_tee))保证数据的传输与计算的安全性，甚至原始数据根本不用传输，传输的只是模型的增量更新(如[联邦学习](#ref_fl))。

Datum 提供了一个统一隐私AI计算调用接口，通过集成主流隐私计算技术，实现了包括特征工程、机器学习和深度学习等各种AI算法在内的数据隐私化操作，使得多方可高效地联合训练AI模型，并结合[Data Oracle][data_oracle]为链上提供预测和推理服务。



![][joint_ai]



注：

1. 图中的训练方法包括[MPC](#ref_mpc)、[TEE](#ref_tee)、[联邦学习](#ref_fl)等，并非表示训练是中心化的，而是强调接口的统一
2. 根据需求和训练方法的不同，训练出来的模型可能会驻留在多方



## 详细的API使用说明，请参考[数据安全计算API][api desc]





**术语**：

+ <a name="ref_psi"></a> 隐私集合求交（[Private Set Intersection](https://en.wikipedia.org/wiki/Private_set_intersection), PSI），是指持有原始数据的两方能够计算得到双方数据的交集，但互相不暴露交集以外的原始数据集中任何信息。它支持DH（Diffie-Hellman）和HE（同态加密）两种算法实现。

+ 隐私标签查询，它使用基于标签的隐私求交集技术（Labeled Private Set Intersection），在查询方不泄露查询的内容，且被查询方不泄露交集以外的数据的前提下，查询方能获取双方数据的交集及交集对应的标签数据。它支持DH（Diffie-Hellman）和HE（同态加密）两种算法实现。

+ <a name="ref_mpc"></a>安全多方计算（[Secure Multi-Party Computation](https://en.wikipedia.org/wiki/Secure_multi-party_computation),  MPC），一组互不信任的参与方在保护各自数据隐私的前提下，共同完成对某约定函数的计算，并得到正确的计算结果。它要求每个参与方除自身数据（和计算结果）外，不能得到其他参与方的预期泄露之外的私有信息。

+ <a name="ref_he"></a>同态加密（[Homomorphic Encryption](https://en.wikipedia.org/wiki/Homomorphic_encryption),  HE），是一种特殊的加密方法，它允许用户在加密之后的密文上直接进行特定形式的代数运算，其计算结果解密后正好与明文的计算结果是一致的。

+ <a name="ref_rosetta"></a>[隐私AI框架Rosetta](../参考/隐私AI框架Rosetta.md)，是基于Tensorflow的隐私AI框架，承载和结合AI、隐私AI和区块链三种典型的技术，大大降低了AI开发者的门槛，让AI开发者在对隐私AI技术没有深入了解的情况下，只需要改动两三行代码即可实现将现有AI代码转换为具备数据隐私保护功能的程序。

+ <a name="ref_fl"></a>联邦学习（[Federated_Learning](https://en.wikipedia.org/wiki/Federated_learning), FL)，是一种机器学习技术，可以在多个分散的边缘设备或保存本地数据样本的服务器上训练算法，而不需要交换它们。

+ <a name="ref_tee"></a>可信执行环境（[trusted execution environment](https://en.wikipedia.org/wiki/Trusted_execution_environment)，TEE），是移动设备（智能手机、平板电脑、智能电视）CPU上的一块区域。这块区域的作用是给数据和代码的执行提供一个更安全的空间，并保证它们的机密性和完整性。

  

  

[priv_op_paradigm]: /img/priv_op_paradigm.png
[delegate_computing]: /img/delegate_computing.png
[psi_eg]: /img/psi_eg.png
[joint_ai]: /img/joint_ai.png
[data_oracle]: ./数据预言机.md
[api desc]: ../API说明/数据安全计算.md

