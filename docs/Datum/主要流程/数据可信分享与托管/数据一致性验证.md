---
sidebar_position: 4
---

为了保证用户下载的数据和数据提供方提供的数据是一致的，用户在下载完数据之后会进行一致性的验证；同时用户也可以在使用数据文件调用API验证一致性。

### 下载数据一致性验证
#### 使用场景
- 数据下载完成之后，用户可以调用此API验证数据的一致性（内部调用）。
- 使用数据文件之前，调用此API验证数据文件的一致性（外部调用）。

#### 功能描述
对数据文件进行验证，确保数据文件和数据提供方提供的数据保持一致；

#### 如何使用
- 接口名称：verifyDataIntegrity

- 参数说明

  | 名称             | 类型    | 说明                            | 是否必填 |
  | ---------------- | ------- | ------------------------------- | -------- |
  | contract_address | address | NFT合约地址                     | Y        |
  | chainId          | uint32  | 链id，默认为1，表示ethereum主网 | N        |
  | tokenid          | string  | NFT的id                         | Y        |
  | path             | string  | 数据文件路径                    | N        |

- 响应

  ```json
  {
  	"status": 200,
  	"result": {
  		"token_address": "0x8df91a59b8610990004987ac6ad8b6e70779ee97",
  		"token_id": "1",
  		"owner_of": "0x806164c929ad3a6f4bd70c2370b3ef36c64deaa8",
  		"contract_type": "ERC721",
  		"name": "datum",
  		"symbol": "FZAI1",
          "file_hash": "0x.....................",
          "storage_method": "hosting/Unmanaged",
          "publicKey": "0x......................."
  	},
  	"msg": "Verify data consistency is successful."
  }
  ```

- 示例

  ```shell
  curl --request POST \
       --url 'https://datum.io/api/v2/$contract_address/verifyDataIntegrity?	    chainId=$chainId&tokenid=$tokenid&path=$path' \
       --header 'Accept: application/json' \
       --header 'Content-Type: application/json' \
       --header 'X-API-Key: test'
  ```
